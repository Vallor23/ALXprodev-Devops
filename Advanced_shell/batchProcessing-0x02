#!/bin/bash

pokemons=("Bulbasaur" "Ivysaur" "Venusaur" "Charmander" "Charmeleon")
API_URL="https://pokeapi.co/api/v2/pokemon/"

for name in "${pokemons[@]}"; do
	# convert name to lowercase for the URL
	name_lower=$(echo "$name"| tr '[:upper:]' '[:lower:]')

	#Fetch and save JSON
	curl -s "${API_URL}${name_lower}" -o "${name}.json"

	if [ $? -ne 0 ]; then
		echo "Failed to fetch data for $name" >> errors.txt
	else
		echo "Fetched data for $name"
	fi

	# Delay to prevent rate limiting
	sleep 1
done
